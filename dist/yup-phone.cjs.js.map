{"version":3,"file":"yup-phone.cjs.js","sources":["../src/main.ts"],"sourcesContent":["import * as Yup from 'yup';\nimport * as gPhoneNumber from 'google-libphonenumber';\n\nconst phoneUtil = gPhoneNumber.PhoneNumberUtil.getInstance();\n\ndeclare module 'yup' {\n  export interface StringSchema {\n    phone(countryCode?: string): StringSchema;\n  }\n}\n\nconst METHOD_NAME = 'phone';\n\nYup.addMethod(Yup.string, METHOD_NAME, function yupPhone(countryCode?: string) {\n  const errMsg = countryCode !== null\n    ? `\\${path} must be a valid phone number for region ${countryCode}`\n    : '${path} must be a valid phone number.';\n  return this.test(METHOD_NAME, errMsg, (value: gPhoneNumber.PhoneNumber) =>\n    countryCode !== null\n      ? phoneUtil.isValidNumberForRegion(value, countryCode)\n      : phoneUtil.isValidNumber(value),\n  );\n});\n"],"names":["phoneUtil","gPhoneNumber.PhoneNumberUtil","METHOD_NAME","Yup.addMethod","Yup.string","yupPhone","countryCode","test","errMsg","value","isValidNumberForRegion","isValidNumber"],"mappings":"kFAGMA,UAAYC,YAAAA,gBAAAA,YAAAA,GAQZC,YAAc,OAEpBC,IAAAA,UAAAA,CAAcC,GAAAA,OAAdD,CAA0BD,WAA1BC,CAAuCE,QAAA,CAAkBC,CAAlB,CAAsC,OAIpE,KAAAC,KAAA,CAAUL,WAAV,CAHwB,IAAhBM,GAAAF,CAAAE,mDAAAA,CACyCF,CADzCE,CAEX,uCACG,CAA+B,SAACC,SACrB,KAAhB,GAAAH,CAAA,CACIN,SAAAU,uBAAA,CAAiCD,CAAjC,CAAwCH,CAAxC,CADJ,CAEIN,SAAAW,cAAA,CAAwBF,CAAxB,EAHC,CAJoE,CAA7EN;"}